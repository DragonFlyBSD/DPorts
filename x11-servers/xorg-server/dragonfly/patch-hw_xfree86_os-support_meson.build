--- hw/xfree86/os-support/meson.build.orig	2022-12-14 09:13:12.921805000 +0100
+++ hw/xfree86/os-support/meson.build	2022-12-14 09:14:23.442977000 +0100
@@ -128,7 +128,7 @@ elif host_machine.system().endswith('bsd
         endif
     endif
 
-    if host_machine.system() == 'freebsd'
+    if host_machine.system() == 'freebsd' or host_machine.system() == 'dragonfly'
         srcs_xorg_os_support += 'bsd/bsd_kmod.c'
     else
         srcs_xorg_os_support += 'shared/kmod_noop.c'
