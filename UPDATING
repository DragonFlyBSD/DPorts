This file documents some of the problems you may encounter when upgrading
your ports.  We try our best to minimize these disruptions, but sometimes
they are unavoidable.

You should get into the habit of checking this file for changes each time
you update your ports collection, before attempting any port upgrades.

20171130:
  AFFECTS: */py*
  AUTHOR: mat@FreeBSD.org

  Ports using Python via USES=python are now flavored.  All the py3-* ports
  have been removed and folded into their py-* master ports.

  People using Poudriere 3.2+ and binary packages do not have to do anything.

  For other people, to build the Python 3.6 version of, for example,
  databases/py-gdbm, you need to run:

    # make FLAVOR=py36 install

20171126:
  AFFECTS: users of security/p5-openxpki
  AUTHOR: dbaio@FreeBSD.org

  OpenXPKI has been updated to 1.19.4, some important changes were made, please
  see the upgrading documentation for more details:

  http://openxpki.readthedocs.io/en/latest/upgrading.html

20171126:
  AFFECTS: users of mail/sympa
  AUTHOR: dgeo@centrale-marseille.fr

  Web's static dirs have moved to a single dedicated directory.
  Users should review webserver's /static configuration (examples in
  share/examples/sympa).

20171119:
  AFFECTS: users of sysutils/zrepl
  AUTHOR: woodsb02@FreeBSD.org

  Zrepl has been updated to 0.0.2, which introduces two changes that will
  require existing users to change their zrepl.yml config file:
    - global.logging is no longer a dictionary but a list.
      Refer to the new format here: https://zrepl.github.io/configuration/logging.html
    - source job field datasets renamed to filesystems.
      Refer to the new format here: https://zrepl.github.io/configuration/jobs.html

    https://zrepl.github.io/changelog.html#id1

20171117:
  AFFECTS: users of sysutils/terraform
  AUTHOR: lifanov@FreeBSD.org

  Terraform has been updated to 0.11, which introduces several incompatible
  changes. Please follow upgrading guide when updating the package.

    https://www.terraform.io/upgrade-guides/0-11.html

20171114:
  AFFECTS: users of ports-mgmt/poudriere
  AUTHOR: bdrewery@FreeBSD.org

  "poudriere options" now respects the -p flag while it did not before.
  This means that it may create an empty directory when used now rather
  than continue to use your existing options set.  You may want to not
  use -p or move your existing options directory, in
  /usr/local/etc/poudriere.d/*-options, to the new format with the
  ports tree name in it.  Otherwise "poudriere bulk" will use the
  new empty directory.

  This behavior will likely change in 3.2.1 to be more backwards-compatible.

20171112:
  AFFECTS: consumers of devel/oniguruma*
  AUTHOR: riggs@FreeBSD.org

  Outdated versions of oniguruma have been removed from the ports
  tree; devel/oniguruma is the only supported version, currently
  replacing devel/oniguruma6.
  pkg should handle this automatically while users of portmaster or
  portupgrade might need to take additional manual steps:

  for users of portmaster:
	portmaster -o devel/oniguruma devel/oniguruma6
	portmaster -r devel/oniguruma

  for users of portupgrade:
	portupgrade -o devel/oniguruma devel/oniguruma6
	portupgrade -fr devel/oniguruma

20171107:
  AFFECTS: users of www/node
  AUTHOR: bhughes@FreeBSD.org	

  The www/node port has been updated to node.js v9.0.0, the latest
  upstream release. A new port, www/node8, has been created for the
  v8.x LTS branch. Users wanting to stay on v8.x can replace www/node
  with www/node8 with one of the following commands:

  # pkg install www/node8
    or
  # portmaster -o www/node8 www/node
    or
  # portupgrade -o www/node8 www/node

20171107:
  AFFECTS: users of security/libressl
  AUTHOR: brnrd@FreeBSD.org

  The port has been updated to the latest stable version 2.6 of LibreSSL.
  The shared library versions of the libraries have been bumped.

  After upgrading, manually update all packages that depend on any of the
  libraries provided by LibreSSL (libssl, libcrypto and libtls) since the
  versions of these libraries have changed. Normally, you can obtain the
  list of dependent software by running the following command:

  # pkg info -r libressl

  Then you should rebuild all ports depending on libressl to avoid dangling
  shared library dependencies. Poudriere and pkg handle this correctly,
  portmaster and portupgrade users can use the following to rebuild all
  dependent ports.

  Portmaster users:
      portmaster -r libressl
  Portupgrade users:
      portupgrade -fr security/libressl

20171105
  AFFECTS: users of www/mod_auth_cas
  AUTHOR: brnrd@FreeBSD.org

  The configuration of mod_auth_cas has changed since the previous
  version. Visit the https://github.com/apereo/mod_auth_cas page for
  an overview of all configuration parameters

20171105:
  AFFECTS: users of www/mod_rpaf2
  AUTHOR: brnrd@FreeBSD.org

  The configuration of mod_rpaf2 has been heavily modified since version
  0.6. Have a look at https://github.com/gnif/mod_rpaf/tree/v0.8.4 to 
  determine what you need to change in your configuration.

20171031:
  AFFECTS: users of editors/vim
  AUTHOR: adamw@FreeBSD.org

  The default vim language bindings have changed. Python 2 and 3 bindings
  may now be enabled independently (the default vim package will continue
  to depend on python-2.7).

  Lua and Tcl bindings have been disabled by default. If you need these
  bindings, you'll need to compile vim yourself. Note that bindings are
  only for plugins written in those languages, and for interactive
  debugging. Editing, indenting, linting, completing, and syntax-highlighting
  those languages is NOT affected.

20171026:
  AFFECTS: users of devel/universal-ctags
  AUTHOR: rodrigo@FreeBSD.org

  Due to conflicts with emacs ctag (editors/emacs-devel, editors/emacs-nox11, editors/emacs),
  the installed files will be prefixed with the 'u' character.
  The new binaries will de named uctags and ureadtags.

20171015:
  AFFECTS: people using WITHOUT_DEBUG
  AUTHOR: madpilot@FreeBSD.org

  The WITHOUT_DEBUG flag has been retired. It's only purpose was
  to override a global WITH_DEBUG, if that was defined, but many
  ports were ignoring such flag even if honouring WITH_DEBUG.

  The same effect can be obtained using ".undef WITH_DEBUG" without
  any special support in port Makefiles.

20171012:
  AFFECTS: users of security/openssh-portable
  AUTHOR: bdrewery@FreeBSD.org

  OpenSSH has been upgraded to 7.6p1 which has removed several deprecated
  features:

    - SSH version 1 support dropped.
    - Dropped support for hmac-ripemd160 MAC.
    - Dropped support for the ciphers arcfour, blowfish and CAST.
    - RSA keys less than 1024 bits are refused.

  The HPN option is currently disabled by default, and does not build,
  in the package.  This follows what happened in base as well.

20171004:
  AFFECTS: users of security/krb5-appl
  AUTHOR: cy@FreeBSD.org

  Configuration options to rename kerberos ftp, telnet, rlogin, rsh, and
  rcp are now default to avoid conflicting with net/bsdrcmds packages
  (in poudriere). Deselect the options to use the original command names
  and also uninstall net/bsdrcmds to avoid the conflict.

20171002:
  AFFECTS: users of x11-wm/cwm
  AUTHOR: tobik@FreeBSD.org

  Configuration options were renamed and you need to update your ~/.cwmrc
  accordingly.  Make sure to check cwmrc(5) for the new option names.
  cwm-migrate-config.pl can help in migrating your ~/.cwmrc.

20171001:
  AFFECTS: users of mail/isync using Maildir sub-folders
  AUTHOR: ehaupt@FreeBSD.org

  If you have Maildir sub-folders, you need to update the configuration
  to specify the naming style.

  Please refer to the mbsync(1) man page section 'SubFolders
  Verbatim|Maildir++|Legacy' on how to make the apropriate changes.

20170930:
  AFFECTS: users of PHP and its modules
  AUTHOR: eugen@FreeBSD.org

  All lang/php* ports switched to depend on devel/oniguruma6
  instead of previous oniguruma version some time ago.

  If you have not moved from devel/oniguruma5 before and
  have troubles updating PHP,

  for users of portmaster:
	portmaster -o devel/oniguruma6 devel/oniguruma5
	portmaster -r devel/oniguruma6

  for users of portupgrade:
	portupgrade -o devel/oniguruma6 devel/oniguruma5
	portupgrade -fr devel/oniguruma6

  pkg should handle this automatically.

20170928:
  AFFECTS: users of security/courier-authlib and its modules
  AUTHOR: madpilot@FreeBSD.org

  The affected ports have been modified to follow the upstream
  suggested best practice to use the sysconftool on installation.

  Please make sure your configuration files include all the comments
  that tool uses to correctly update the configuration on update.

  You can use the ".sample" or ".dist" files as templates for missing
  comments if needed.

20170915:
  AFFECTS: users of devel/cargo
  AUTHOR: rust@FreeBSD.org

  Starting with version 1.19.0, Cargo is provided with Rust. Therefore,
  devel/cargo was merged into lang/rust.

20170914:
  AFFECTS: users of CMake & CMake Modules
  AUTHOR: adridg@FreeBSD.org

  The devel/cmake-modules port has been merged into devel/cmake.

  The benefit of being able to update the modules without the binary
  is outweighed by the issues caused by having the binary out-of-sync
  with the modules.

  Users should delete the devel/cmake-modules package and then
  upgrade or reinstall devel/cmake.
 
  All ports have been updated to depend only on CMake.

20170904
  AFFECTS: users of net-mgmt/seafile-server
  AUTHOR: ultima@FreeBSD.org

  Users using MySQL updating to 6.1.2 need to verify table's collation
  are utf8_unicode_ci. Upstream has set collation type to be implicit
  and will cause all libraries to disappear if set to incorrect collation.

20170828
  AFFECTS: users of security/gnupg
  AUTHOR: adamw@FreeBSD.org

  security/gnupg has become the new stable version of GnuPG. This is
  an LTS branch. gnupg20 will reach EOL at the end of the year, and all
  gnupg20 users should migrate to gnupg22.

  See https://gnupg.org/faq/whats-new-in-2.1.html for important changes.

20170820:
  AFFECTS: users of www/uwsgi
  AUTHOR: ultima@FreeBSD.org

  The default socket owner and mode had been changed from www:www 600
  to uwsgi:www 660. This should resolve issue #1471[1] on github.

  [1] https://github.com/unbit/uwsgi/issues/1471

20170808:
  AFFECTS: users of lang/ghc and */hs-*
  AUTHOR: haskell@FreeBSD.org

  The Glorious Glasgow Haskell Compiler has been updated to version
  8.0.2.  Hence it is recommended to rebuild or reinstall all the
  dependent ports and the lang/ghc port itself in one of the following
  ways:

  # portmaster -w -r ghc
    or
  # portupgrade -fr lang/ghc

  In case of pkg(8), it is probably safer to remove all the GHC-dependent
  packages along with GHC and reinstall everything from scratch.  For
  example:

  # pkg query "%ro" ghc > ghc-pkgs.txt
  # pkg delete -y lang/ghc

  In ghc-pkgs.txt, check and remove all the packages that have been moved
  on the update, then use this command:

  # pkg install -y `cat ghc-pkgs.txt`

20170807:
  AFFECTS: users of mail/dovecot2 and mail/dovecot2-pigeonhole
  AUTHOR: adamw@FreeBSD.org

  Now that dovecot1 has been removed from the ports tree, dovecot2
  and dovecot2-pigeonhole have been renamed to simply dovecot and
  dovecot-pigeonhole.

  pkg should handle the rename automatically, but if you run into
  trouble, you can point pkg at the new origin via:

  # pkg set -o mail/dovecot2:mail/dovecot
  # pkg set -o mail/dovecot2-pigeonhole:mail/dovecot-pigeonhole

  Similarly, you can point portmaster at the new location via:

  # portmaster -o mail/dovecot mail/dovecot2

  If all else fails, just remove and reinstall the package:

  # pkg delete dovecot2
  # pkg install dovecot

20170806:
  AFFECTS: users of mail/dovecot2-antispam-plugin
  AUTHOR: adamw@FreeBSD.org

  Development of the antispam plugin ceased years ago, and upstream
  recommends using pigeonhole (mail/dovecot2-pigeonhole) instead.

  See https://wiki2.dovecot.org/HowTo/AntispamWithSieve for a recipe
  to replicate the antispam plugin's behaviour.

20170803:
  AFFECTS: users of net/guacamole-client
  AUTHOR: ultima@FreeBSD.org

  As of version 0.9.13, the configuration directory for guacamole-client
  has changed from /usr/local/etc/guacamole to
  /usr/local/etc/guacamole-client.

20170803:
  AFFECTS: users of net/guacamole-server
  AUTHOR: ultima@FreeBSD.org

  As of version 0.9.13, the configuration directory for guacamole-server
  has changed from /usr/local/etc/guacd to /usr/local/etc/guacamole-server.

20170803:
  AFFECTS: users of sysutils/terraform
  AUTHOR: lifanov@FreeBSD.org

  Terraform was updated to version 0.10.0, which split out provider plugins.
  Provider plugins are now installed in the project directory the next time
  "terraform init" is run. Please see the complete upgrading guide:

  https://www.terraform.io/upgrade-guides/0-10.html

20170729:
  AFFECTS: users of net-p2p/bitcoin
  AUTHOR: lwhsu@FreeBSD.org

  Bitcoin data directory has been changed from /var/db/bitcoind to
  /var/db/bitcoin.  Users of previous versions may want to migrate data to
  new location or specify bitcoind_data.

20170729:
  AFFECTS: users of mail/mailscanner
  AUTHOR: crees@FreeBSD.org

  Version 5.0.3 of MailScanner introduced a serious bug in packaging.
  Unfortunately if it is installed, your configuration has been deleted.

  If you have managed to get it working, please back up
  /usr/local/etc/MailScanner as it will also be deleted on deinstall
  of the same package.

20170726:
  AFFECTS: users of www/luakit
  AUTHOR: ports@textmail.me

  Luakit was updated to version 2017.07.26, which is incompatible to the
  previous release from 2012. Please remove old configuration files from
  the following directories:
        ${PREFIX}/etc/xdg/luakit
        ${HOME}/.config/luakit
        ${HOME}/.local/share/luakit

20170721:
  AFFECTS: users of security/sshguard*
  AUTHOR: dan.mcgregir@usask.ca

  security/sshguard was updated to 2.0.0, and security/sshguard-pf,
  security/sshguard-ipfw, and security/sshguard-null have been merged into
  security/sshguard.

  Configuration of the service is now handled in ${PREFIX}/etc/sshguard.conf.
  Please select the desired backend, -null is selected by default.

  In order to upgrade from 1.7.1 change the origin to security/sshguard

  # pkg set -o security/sshguard-ipfw:security/sshguard
  # pkg set -o security/sshguard-null:security/sshguard
  # pkg set -o security/sshguard-pf:security/sshguard

20170717:
  AFFECTS: users of devel/p5-Log-Any and devel/p5-Log-Any-Adapter-Syslog
  AUTHOR: eugen@FreeBSD.org

  devel/p5-Log-Any-Adapter-Syslog functionality have been merged into
  devel/p5-Log-Any and from now devel/p5-Log-Any must be used.

  devel/p5-Log-Any-Adapter-Syslog will be marked as deprecated and removed.

20170712:
  AFFECTS: users of devel/apr1
  AUTHOR: brnrd@FreeBSD.org

  APR was updated to 1.6.0 and APR-util was updated to 1.6.2

  The Apache Portable Runtime project removed support for FreeTDS from the
  APR Utilities in version 1.6. Users of FreeTDS will have to migrate
  configurations to use the newly added ODBC support in conjunction with
  FreeTDS using FreeTDS' ODBC capabilities.

  Please rebuild all ports which are using functions from APR/APR-util
  such as Apache, Subversion, etc. Normally, you can obtain the list of
  dependent software by running the following command:

  # pkg info -r apr

  Then you should rebuild all ports depending on APR(-util) to avoid
  dangling shared library dependencies. Poudriere and pkg handle this
  correctly, portmaster and portupgrade users can use the following to
  rebuild all dependent ports.

  Portmaster users:
      portmaster -r apr
  Portupgrade users:
      portupgrade -fr devel/apr1

20170710:
  AFFECTS: users of net-im/ejabberd
  AUTHOR: ashish@FreeBSD.org

  After update to 17.07, there is an issue[1] expected related to certificate
  verification with TLS connections.

  [1] - https://github.com/processone/ejabberd/issues/1833

20170628:
  AFFECTS: users of www/node
  AUTHOR: bhughes@FreeBSD.org

  The www/node port has been updated to Node.js v8.1.2, the latest
  upstream release. This is a major release, including many significant
  changes. Users are encouraged to read the release announcements before
  upgrading:

  https://nodejs.org/en/blog/release/v8.0.0/
  https://nodejs.org/en/blog/release/v8.1.0/

20170626:
  AFFECTS: users of net-mgmt/zabbix24*
  AUTHOR: dbaio@FreeBSD.org

  Zabbix 2.4 has reached end of life and net-mgmt/zabbix24* ports have been
  removed. Users that have not yet moved to a newer version, should use now
  net-mgmt/zabbix3-* (LTS release) or net-mgmt/zabbix32-* (Standard release).

  See more info about Zabbix releases here:
  http://www.zabbix.com/life_cycle_and_release_policy

20170624:
  AFFECTS: users of mail/dcc-dccd
  AUTHOR: ultima@FreeBSD.org

  The ALT_HOME option was removed in 1.3.159_1. If this option is being
  used, please be sure to move the old home directory, /var/dcc to
  ${PREFIX}/dcc.

20170624:
  AFFECTS: users of net/rabbitmq
  AUTHOR: olgeni@FreeBSD.org

  The rabbitmq-3.6.10_1 port has been changed to use version 19 of
  the Erlang runtime, because RabbitMQ is not yet compatible with
  version 20.

  Upgrades to the previous rabbitmq-3.6.10 must be avoided as
  they can lead to data corruption due to changes in Erlang 20.

20170622:
  AFFECTS: users of database/postgresql* and other software using PostgreSQL to run
  AUTHOR: tz@FreeBSD.org

  The default version of PostgreSQL has been switched from 9.3 to 9.5.
  The upgrade procedure can use up twice the space the databases
  currently needs. If you have a big amount of stored data take a
  closer look at the manpage of pg_upgrade for avoidance and/or
  speedup of the upgrade.

  The upgrade instructions consider a basic usage and do not match
  complex scenarious like replication, sharding or similar.

  Upgrade instructions:

  First stop your PostgreSQL, create PostgreSQL-binaries and backup your data.
  If you have another Version of PostgreSQL installed, for example 9.3.12, your
  files are named accourding to this.

  # service postgresql stop
  # pkg create postgresql93-server postgresql93-contrib
  # mkdir /tmp/pg-upgrade
  # tar xf postgresql93-server-9.3.17.txz -C /tmp/pg-upgrade
  # tar xf postgresql93-contrib-9.3.17.txz -C /tmp/pg-upgrade
  # mv /usr/local/pgsql/data /usr/local/pgsql/data93
  # pkg delete -f databases/postgresql93-server databases/postgresql93-contrib databases/postgresql93-client

  Now update PostgreSQL:

    pkg user:
    # pkg install databases/postgresql95-server databases/postgresql95-contrib
    # pkg upgrade

    Portmaster users:
    # portmaster databases/postgresql95-server databases/postgresql95-contrib
    # portmaster -a

    Portupgrade users:
    # portinstall databases/postgresql95-server databases/postgresql95-contrib
    # portupgrade -a

  After installing the new PostgreSQL version you need to convert
  all your databases to new version:

  # service postgresql initdb
  # su -l pgsql -c "pg_upgrade -b /tmp/pg-upgrade/usr/local/bin/ -d /usr/local/pgsql/data93/ -B /usr/local/bin/ -D /usr/local/pgsql/data/"

  Now the migration is finished. You can start PostgreSQL again with:

  # service postgresql start

20170614:
  AFFECTS: users of editors/calligra
  AUTHOR: groot@kde.org

  Calligra has been updated to 3.0.1, which is a KDE Frameworks 5 (KF5)
  based application. Calligra now uses Qt5 and KF5. The translations have
  been merged (upstream) into the application, so separate language /
  translation ports are no longer provided. Krita has been split out
  (upstream) into a separate application, which is packaged as
  graphics/krita. Kexi, the visual database applications creator,
  is packaged separately as databases/kexi.

  Users of Calligra are encouraged to install Krita and Kexi separately,
  and to report issues with the upgrade to kde@.

20170613:
  AFFECTS: users of net-im/ejabberd
  AUTHOR: ashish@FreeBSD.org

  After update to 17.04, there is an issue[1] expected with S2S connections,
  which can be resolved by adding 'mod_s2s_dialback: {}' to 'modules' section
  of configuration file.

  [1] - https://github.com/processone/ejabberd/issues/1700

20170603:
  AFFECTS: users of www/kanboard
  AUTHOR: joneum@FreeBSD.org

  After update to 1.0.44, there are following breaking changes:
  * Move calendar to external plugin: https://github.com/kanboard/plugin-calendar
  * Move Gantt charts to external plugin: https://github.com/kanboard/plugin-gantt
  * Move Gravatar to external plugin: https://github.com/kanboard/plugin-gravatar

20170602:
  AFFECTS: users of Qt 5 in presence of binutils
  AUTHOR: amdmi3@FreeBSD.org

  gold linker from binutils 2.28 may produce duplicate library
  symbols, which makes shared libraries created with it not usable
  with conventional ld linker.

  This affects Qt, as qt5-qmake will detect gold and use it to build
  Qt libraries. Broken libQt5Core will be produced and ports which
  depend on it will then fail to link with the following errors:

    ...lib/libQt5Core.so:(.dynamic+0x27ac8): multiple definition of `__bss_start at Qt_5'
    ...lib/libQt5Core.so:(.dynamic+0x27ac8): first defined here
    ...lib/libQt5Core.so:(.dynamic+0x27ac8): multiple definition of `_edata at Qt_5'
    ...lib/libQt5Core.so:(.dynamic+0x27ac8): first defined here
    ...lib/libQt5Core.so:(.dynamic+0x2b2d0): multiple definition of `_end at Qt_5'

  Qt5 was fixed to ignore gold. If you see these errors, you
  need to rebuild qt5-qmake, then all qt5-* ports.

20170529:
  AFFECTS: users of sysutils/dsbmd
  AUTHOR: mk@freeshell.de

  Due to new configuration variables and semantic changes, users of dsbmd
  version 0.2 and earlier should consider recreating their dsbmd.conf from
  the new dsbmd.conf.sample.

20170518:
  AFFECTS: users of www/yarn
  AUTHOR: adamw@FreeBSD.org

  The default node backend for yarn has switched to www/node. Binary
  package users should expect the node backend to be switched during
  the upgrade. To keep the node6 (LTS) backend, rebuild www/yarn with
  the NODE6 backend option enabled.

20170517:
  AFFECTS: users of security/pecl-ssh2
  AUTHOR: dbaio@FreeBSD.org

  The security/pecl-ssh2 has been upgraded to version 1.0, and the new
  version is not compatible with PHP5. If you need PHP5 support, you can
  find version 0.13 in security/pecl-ssh2-0.

20170412:
  AFFECTS: users of sysutils/ansible
  AUTHOR: lifanov@FreeBSD.org

  The default value for ansible_python_interpreter has been changed
  to match the upstream /usr/bin/python. If managing FreeBSD systems,
  adjust the hosts database to explicitly set a valid python interpreter:

  [freebsd]
  host1

  [freebsd_vars]
  ansible_python_interpreter=/usr/local/bin/python2.7

20170411:
  AFFECTS: users of security/libressl
  AUTHOR: brnrd@FreeBSD.org

  The port has been updated to the latest stable version 2.5 of LibreSSL.
  The shared library versions of the libraries have been bumped.

  After upgrading, manually update all packages that depend on any of the
  libraries provided by LibreSSL (libssl, libcrypto and libtls) since the
  versions of these libraries have changed. Normally, you can obtain the
  list of dependent software by running the following command:

  # pkg info -r libressl

  Then you should rebuild all ports depending on libressl to avoid dangling
  shared library dependencies. Poudriere and pkg handle this correctly,
  portmaster and portupgrade users can use the following to rebuild all
  dependent ports.

  Portmaster users:
      portmaster -r libressl
  Portupgrade users:
      portupgrade -fr security/libressl

20170411:
  AFFECTS: www/firefox
  AUTHOR: gecko@FreeBSD.org

  Firefox 53 or later may fail to build if sem(4) is present (see below)
  because sysconf(3) still consults the old limits. If you don't plan to
  run FreeBSD 8.x or older binaries make sure sem(4) isn't loaded during
  boot or built statically into the kernel.

    Creating config.status
    Traceback (most recent call last):
      File "configure.py", line 124, in <module>
	sys.exit(main(sys.argv))
      File "configure.py", line 34, in main
	return config_status(config)
      File "configure.py", line 119, in config_status
	return config_status(args=[], **encode(sanitized_config, encoding))
      File "python/mozbuild/mozbuild/config_status.py", line 136, in config_status
	reader = BuildReader(env)
      File "python/mozbuild/mozbuild/frontend/reader.py", line 886, in __init__
	self._gyp_worker_pool = ProcessPoolExecutor(max_workers=max_workers)
      File "python/futures/concurrent/futures/process.py", line 274, in __init__
	_check_system_limits()
      File "python/futures/concurrent/futures/process.py", line 263, in _check_system_limits
	raise NotImplementedError(_system_limited)
    NotImplementedError: system provides too few semaphores (30 available, 256 necessary)

20170410:
  AFFECTS: users of x11-wm/awesome
  AUTHOR: garga@FreeBSD.org

  Awesome Window Manager (x11-wm/awesome) was upgraded to 4.1 and its config
  is not backward compatible with 3.5.  A new port was created to keep 3.5
  version available at x11-wm/awesome3 and it will be available for 6 months
  until users have time to upgrade configuration.

  There are references about what has changed in 4.0 at:

  https://awesomewm.org/apidoc/documentation/89-NEWS.md.html#v4

  And configuration porting tips at:

  https://awesomewm.org/apidoc/documentation/17-porting-tips.md.html#v4

  If you would like to keep using 3.x, please run the collowing command to
  update pkg database:

  # pkg set -n awesome:awesome3
  # pkg set -o x11-wm/awesome:x11-wm/awesome3

20170404:
  AFFECTS: users of Xapian 1.2.x and www/ikiwiki
  AUTHOR: sunpoet@FreeBSD.org

  Xapian has been updated to 1.4.3. The 1.2.x series has been renamed with
  suffix "12". The Perl binding for Xapian 1.4.x is databases/p5-Xapian.
  Since www/ikiwiki depends on Search::Xapian, it stays with Xapian 1.2.
  If you would like to keep using 1.2, please run the following commands
  to update pkg database:

  xapian-core:
    # pkg set -n xapian-core:xapian-core12
    # pkg set -o databases/xapian-core:databases/xapian-core12

  p5-Search-Xapian:
    # pkg set -n p5-Search-Xapian:p5-Search-Xapian12
    # pkg set -o databases/p5-Search-Xapian:databases/p5-Search-Xapian12

  xapian-bindings:
    # pkg set -n xapian-bindings:xapian-bindings12
    # pkg set -o databases/xapian-bindings:databases/xapian-bindings12

  xapian-omega:
    # pkg set -n xapian-omega:xapian-omega12
    # pkg set -o databases/xapian-omega:databases/xapian-omega12

20170401:
  AFFECTS: net/samba44, net/samba45, net/samba46 and devel/p5-Parse-Pidl*
  AUTHOR: timur@FreeBSD.org

  It turned out that arbitary versions of p5-Parse-Pidl may lead to the
  hard to explain crashes of the Samba server and utilities(in particular
  we suspect it was responsible for the troubles with the DC provisioning).

  So, from now on net/samba* ports use bundled version of Pidl. You need to
  remove external package from the system:

  pkg delete -f p5-Parse-Pidl p5-Parse-Pidl44

20170331:
  AFFECTS: users of security/openssh-portable
  AUTHOR: bdrewery@FreeBSD.org

  The format of several log messages emitted by the packet code has
  changed to include additional information about the user and
  their authentication state. Software that monitors ssh/sshd logs
  may need to account for these changes. For example:

  Connection closed by user x 1.1.1.1 port 1234 [preauth]
  Connection closed by authenticating user x 10.1.1.1 port 1234 [preauth]
  Connection closed by invalid user x 1.1.1.1 port 1234 [preauth]

  Affected messages include connection closure, timeout, remote
  disconnection, negotiation failure and some other fatal messages
  generated by the packet code.

20170326:
  AFFECTS: users of samba43
  AUTHOR: antoine@FreeBSD.org

  The default version of samba has been switched from 4.3 to 4.4.
  Upgrade instructions:

  For package users having samba43 installed indirectly (as a dependency):
    # pkg upgrade

  For package users having samba43 installed directly (leaf port):
    # pkg upgrade
    # pkg install samba44

  For ports users:
    If you want to keep samba43, add DEFAULT_VERSIONS+= samba=4.3 to make.conf

    If you want to upgrade to samba44, remove samba43 and obsolete packages:
    # pkg delete -f samba36-libsmbclient samba36-nmblookup samba36-smbclient samba36 samba43 p5-Parse-Pidl

    Portmaster users:
    # portmaster net/samba44
    # portmaster -a

    Portupgrade users:
    # portinstall net/samba44
    # portupgrade -a

20170325:
  AFFECTS: net/samba46 and devel/p5-Parse-Pidl
  AUTHOR: timur@FreeBSD.org

  New version of Samba port from 4.6 branch is added. Before upgrading please read upgrade notes:

  https://www.samba.org/samba/history/samba-4.6.0.html

  For the vfs_fruit users:

  Users on *BSD must rename the metadata xattr used by vfs_fruit when
  using the default setting "fruit:metadata = netatalk".

  Due to a glitch in the Samba xattr API compatibility layer for FreeBSD and a
  mistake in vfs_fruit, vfs_fruit ended up using the wrong xattr name when
  configured with "fruit:metadata = netatalk" (default). Instead of the correct

  org.netatalk.Metadata

  it used

  netatalk.Metadata

  Starting with Samba 4.6 vfs_fruit will use the correct "org.netatalk.Metadata"
  which means existing installations must rename this xattrs. For this purpose
  Samba now includes a new tool `mvxattr`.

20170325:
  AFFECTS: net/samba45, net/samba46 and devel/p5-Parse-Pidl
  AUTHOR: timur@FreeBSD.org

  While new Uses/samba.mk dosen't work well with slave ports to compile devel/p5-Parse-Pidl
  for net/samba45 or net/samba46 you need explicitly set in the /etc/make.conf:

  SAMBA4_PORT=net/samba46

  explicitly. In the future that shouldn't be necessary.

20170321:
  AFFECTS: users of samba36-libsmbclient, samba36-nmblookup samba36-smbclient and samba36
  AUTHOR: antoine@FreeBSD.org

  The obsolete samba36-libsmbclient, samba36-nmblookup, samba36-smbclient and samba36 packages/ports were removed
  and USES=samba was introduced.
  Upgrade instructions:

  For package users having those ports installed indirectly (as dependencies):
    # pkg upgrade

  For package users having those ports installed directly (leaf ports):
    # pkg upgrade
    # pkg install samba43

  For ports users:
    Choose you samba version, for instance add DEFAULT_VERSIONS+= samba=4.3 to make.conf

    Remove obsolete packages:
    # pkg delete -f samba36-libsmbclient samba36-nmblookup samba36-smbclient samba36

    Portmaster users:
    # portmaster net/samba43
    # portmaster -a

    Portupgrade users:
    # portinstall net/samba43
    # portupgrade -a

20170319:
  AFFECTS: users of mail/pecl-mailparse
  AUTHOR: dbaio@bsd.com.br

  The mail/pecl-mailparse has been upgraded to version 3.0.2, and the new
  version is not compatible with PHP5. If you need PHP5 support, you can
  find version 2.1.6 in mail/pecl-mailparse2.

20170319:
  AFFECTS: users of textproc/pecl-yaml
  AUTHOR: dbaio@bsd.com.br

  The pecl-yaml has been upgraded to version 2.0.0, and the new version is
  not compatible with PHP5. If you need PHP5 support, you can find version
  1.3.0 in textproc/pecl-yaml1.

20170316:
  AFFECTS: users of python setuptools
  AUTHOR: antoine@FreeBSD.org

  The python setuptools ports have been renamed to better match other python ports.
  Ports users need to rename them so that portupgrade and portmaster do not
  get confused.  For example:

    pkg set -n py27-setuptools27:py27-setuptools
    pkg set -o devel/py-setuptools27:devel/py27-setuptools
  or
    pkg set -n py35-setuptools35:py35-setuptools
    pkg set -o devel/py-setuptools35:devel/py35-setuptools

20170312:
  AFFECTS: users of textproc/ack
  AUTHOR: sunpoet@FreeBSD.org

  ack has been renamed back to p5-ack to match our perl naming. You could
  run the following to update pkg database:

    # pkg set -n ack:p5-ack
    # pkg set -o textproc/ack:textproc/p5-ack

20170311:
  AFFECTS: users of games/tome4 with paid DLCs
  AUTHOR: lifanov@FreeBSD.org

  The Ashes of Urh'Rok and Embers of Rage DLCs have been updated to be
  compatible with changes introduced in ToME 1.5.0. Users of these DLCs
  will need to redownload nd place these in $HOME/.t-engine/4.0/addons.

20170302:
  AFFECTS: users of mail/thunderbird with Lightning
  AUTHOR: cmt@FreeBSD.org

  After changes in the packaging of the Lightning extension, profiles
  using this extension have to be re-created.

20170223:
  AFFECTS: users of devel/mtbl
  AUTHOR: truckman@FreeBSD.org

  There is a libmtbl shared library version bump in mtbl version 1.0.0.
  The affected dependent ports have had PORTREVISION bumps, but you will
  need to rebuild any applications that link to libmtbl.

20170220:
  AFFECTS: sysutils/filebeat sysutils/metricbeat sysutils/packetbeat
  AUTHOR: girgen@FreeBSD.org

  The three elasticsearch beats ports have merged into one single port
  systuils/beats that installs all of the above and some more. The reason is to
  make the port more maintainable and also that the new heartbeat beat would
  conflict with sysutils/heartbeat.

20170220:
  AFFECTS: devel/libevent2
  AUTHOR: jbeich@FreeBSD.org

  libevent2 has been renamed back to libevent as the default version.
  If you manage out of tree ports make sure to run the following:

    # pkg set -n libevent2:libevent
    # pkg set -o devel/libevent2:devel/libevent

20170218:
  AFFECTS: users of Qt 4 and Qt 5
  AUTHOR: kde@FreeBSD.org

  Following what is already done in Qt 5, the Qt 4 ports no longer install
  their binaries into ${LOCALBASE}/bin (which is "/usr/local/bin" in most
  cases). Additionally, the "-qt4" suffix has been dropped from the file names
  of the binaries that had it, such as "qmake-qt4".

  The new misc/qtchooser port is now used to choose whether a Qt 4 or Qt 5
  version of a binary such as "moc", "qmake" or "designer" will be used. By
  default, the Qt 5 versions are preferred, but that can be changed by setting
  the QT_SELECT environment variable to "qt4".

  qtchooser also allows one to seamlessly use other Qt installations for those
  binaries, which is particularly beneficial to people working on Qt itself or
  who need their own checkouts.

  See qtchooser(1) for more information on how to configure qtchooser.

20170213:
  AFFECTS: users of www/node*
  AUTHOR: bradleythughes@fastmail.fm

  The BUNDLED_SSL option is now enabled by default on FreeBSD 10, since
  Node.js requires OpenSSL 1.0.2, and FreeBSD 10 is shipped with 1.0.1.

20170213:
  AFFECTS: users of graphics/libGL, graphics/libEGL, graphics/libglesv2
  AUTHOR: kwm@FreeBSD.org

  The workaround for handling conflicting libraries between the
  nvidia-driver, libGL, libEGL and libglesv2 ports was removed. If the
  nvidia-driver port is updated before the other ports, it will remove
  the libraries of said ports. This is a side effect of how the workaround
  worked. If this happens reinstalling the affected port is enough.

  pkg users can run: pkg install -f libGL libEGL libglesv2

20170211:
  AFFECTS: users of x11-server/xorg-server
  AUTHOR: rezny@FreeBSD.org

  Xorg server has been updated to 1.18.4 and autodetection has changed.
  The order in which drivers are now attempted is:
    1) vendor/model specific driver according to PCI IDs
    2) generic modesetting driver which requires a drm driver with KMS
    3) scfb, the generic framebuffer driver
    4) vesa (only if arch is x86)

  This should minimize the need for xorg.conf files. It is recommended to
  load the correct KMS driver (i915kms.ko or radeonkms.ko) via rc.conf,
  i.e. kld_list="i915kms.ko", to ensure correct functionality. Although
  the vendor drivers may attempt to load the correct drm driver, which
  does not always work, the modesetting driver assumes the required KMS
  driver is already loaded and will fail if there is none. The modesetting
  driver is now recommended as an alternative to the Intel driver; the
  performance is comparable and stability is better with modesetting. The
  ATI driver continues to offer better performance than modesetting.

20170203:
  AFFECTS: users of security/libressl-devel
  AUTHOR: brnrd@FreeBSD.org

  The version 2.5.1 bumps the libcrypto, libssl and libtls shared library
  versions. You will have to rebuild all packages that depend on
  libressl-devel. Check the 20160811 libressl entry for more detailed
  guidance on rebuilding.

20170202:
  AFFECTS: users of www/uwsgi
  AUTHOR: feld@FreeBSD.org

  The previous disruptive changes to uwsgi for security have been remediated
  through creation of a dedicated uwsgi user/group and utilizing the
  uwsgi feature to set socket ownership. The uwsgi daemon by default now
  has the following properties:

  * Process runs as uwsgi user and group (UID/GID 165)
  * Socket mode is 660, still protecting unauthorized access from "other"
  * Socket ownership is www:www, restoring compatibility

20170130:
  AFFECTS: users of devel/ice, devel/py-ice, devel/php5-ice
  AUTHOR: grembo@FreeBSD.org

  Since __WORDSIZE as defined by <stdint.h> always reports 32 when using
  C++98/03 (unless __STDC_LIMIT_MACROS is set explictly), Ice 3.6.3 used
  "long long" for Int64 instead of "long" on 64-bit platforms by mistake.
  A workaround has been added in version 3.6.3_2 of these three ports,
  requiring to upgrade all of them at the same time and to rebuild all
  custom code that links against them.

20170129:
  AFFECTS: users of multimedia/motion
  AUTHOR: jhale@FreeBSD.org

  Version 3.x expected the configuration files to reside in:
	${LOCALBASE}/etc
  Version 4.x expects the configuration files to reside in:
	${LOCALBASE}/etc/motion
  This was unfortunately overlooked when the port was updated to 4.x, but it
  has now been fixed to install the default configuration file in the new
  location. The rc script now checks for motion.conf in the new location.

  While you may be able to simply copy your old motion.conf to the new location,
  it is recommended to review ${LOCALBASE}/etc/motion/motion.conf and make
  changes to it based on your old ${LOCALBASE}/etc/motion.conf as some options
  have been added and removed.

  Further, if you use motion with multiple cameras and have
  ${LOCALBASE}/etc/thread[0-9].conf files, they should be moved to
  ${LOCALBASE}/etc/motion as well. These files are deprecated and should be
  renamed to camera[0-9].conf and in motion.conf, lines like:
	thread /usr/local/etc/thread1.conf
  Should be converted to:
	camera /usr/local/etc/motion/camera1.conf

20170127:
  AFFECTS: users of www/uwsgi
  AUTHOR: feld@FreeBSD.org

  The default socket mode for uwsgi as 777 is a severe security concern.
  This has been remediated by changing the rc script to default to 600.
  The mode is configurable with rc.conf values: uwsgi_socket_mode="600"
  or for a profile named "www", uwsgi_www_socket_mode="600".

20170121:
  AFFECTS: users of security/tinc
  AUTHOR: dinoex@FreeBSD.org

  this version of tinc requires all nodes in the VPN to be linked with a
  version of OpenSSL or LibreSSL that supports the AES256 and SHA256
  algorithms.


20170120:
  AFFECTS: users of databases/mysql56-server
  AUTHOR: feld@FreeBSD.org

  databases/mysql56-server was updated to 5.6.35 which included backported
  rc script changes from the mysql57-server port. This broke mysql_optfile in
  rc.conf and also forced a sample my.cnf if none existed. MySQL has
  some parameters which cannot be changed after a database has been
  created, so this caused MySQL to fail to start.

  This change was reverted in mysql56-server-5.6.35_1

  An additional change was made in mysql56-server-5.6.35_2 to prevent
  automatic loading of a sample my.cnf which was causing issues for
  users who were running without a my.cnf.

20170117:
  AFFECTS: users of EoL'ed FreeBSD versions (<10.3, 11 prior to 11.0)
  AUTHOR: amdmi3@FreeBSD.org

  The ports system will now refuse to build anything if it's run on
  outdated system version. This protects users from unexpected build
  failures after code to support EoL'ed systems is removed from the
  tree. You may define ALLOW_UNSUPPORTED_SYSTEM to override this and
  allow builds, but no support will be provided in case of failures.

20170116:
  AFFECTS: users of java/wildfly10
  AUTHOR: olgeni@FreeBSD.org

  The java/wildfly10 port has been updated to 10.1.0. To complete the
  migration you must copy your existing configuration (directories
  "appclient", "standalone", and "domain") from /usr/local/wildfly-10.0.0
  to /usr/local/wildfly10.

20170115:
  AFFECTS: users of net-mgmt/librenms
  AUTHOR: dvl@FreeBSD.org

  The following is recommended for /var/db/mysql/my.cnf

  NOTE: these are global settings.  Please read this first:

  http://dev.mysql.com/doc/refman/5.7/en/sql-mode.html

  [mysqld]
  innodb_file_per_table=1
  sql-mode=""

20170109:
  AFFECTS: users of lang/ruby22
  AUTHOR: swills@FreeBSD.org

  The default ruby version has been updated from 2.2 to 2.3.

  If you compile your own ports you may keep 2.2 as the default version by
  adding the following lines to your /etc/make.conf file:

  #
  # Keep ruby 2.2 as default version
  #
  DEFAULT_VERSIONS+=ruby=2.2

  If you wish to update to the new default version, you need to first stop any
  software that uses ruby. Then, you will need to follow these steps, depending
  upon how you manage your system.

  If you use pkgng, simply upgrade:
  # pkg upgrade

  If you use portmaster, install new ruby, then rebuild all ports that depend
  on ruby:
  # portmaster -o lang/ruby23 lang/ruby22
  # portmaster -R -r ruby-2.3

  If you use portupgrade, install new ruby, then rebuild all ports that depend
  on ruby:

  # pkg delete -f ruby portupgrade
  # make -C /usr/ports/ports-mgmt/portupgrade install clean
  # pkg set -o lang/ruby22:lang/ruby23
  # portupgrade -x ruby-2.3.\* -fr lang/ruby23

20170102:
  AFFECTS: multimedia/ffmpeg
  AUTHOR: jbeich@FreeBSD.org

  OPTIMIZED_CFLAGS switched to only use vendor optimizations which
  means -ffast-math -fno-finite-math-only are no longer applied. If
  you did like the former behavior consider adding

      # multimedia/ffmpeg/Makefile.local
      OPTIMIZED_CFLAGS_CFLAGS += -ffast-math -fno-finite-math-only

  or

      # /etc/make.conf
      .if ${.CURDIR:M*/multimedia/ffmpeg}
      CFLAGS += -ffast-math -fno-finite-math-only
      .endif

20161230:
  AFFECTS: users of x11/xfce4-terminal
  AUTHOR: olivierd@FreeBSD.org

  The port has been updated to the latest stable version 0.8.2.
  Please, don't active the hidden 'MiscSlimTabs' option in
  ~/.config/xfce4/terminal/terminalrc, it requires Gtk+ > 3.20.

20161228:
  AFFECTS: users of multimedia/mlt
  AUTHOR: avilla@FreeBSD.org

  MLT Qt plugins have been moved to their own ports, mlt-qt4 and
  mlt-qt5. Please, uninstall multimedia/mlt before you update:

  # pkg delete mlt

20161227:
  AFFECTS: users of security/openvpn, security/openvpn-polarssl
  AUTHOR: Matthias Andree <mandree@FreeBSD.org>

  The OpenVPN ports have been updated to the new upstream release v2.4,
  and their predecessors preserved as openvpn23 and openvpn23-polarssl,
  respectively.  Note that for the new v2.4 release, the
  openvpn-polarssl port has been renamed to openvpn-mbedtls to match the
  upstream library's new name.

20161218:
  AFFECTS: users of www/nghttp2
  AUTHOR: sunpoet@FreeBSD.org

  nghttp2 has been split into 2 ports: www/libnghttp2 for core library and
  www/nghttp2 for the rest. Please uninstall nghttp2 before you update
  this port.

20161216:
  AFFECTS: mail/thunderbird, www/seamonkey
  AUTHOR: gecko@FreeBSD.org

  ENIGMAIL is no longer provided as part of the ports after upstream
  dropped binary components in 1.9. Go to Tools -> Add-ons Manager
  then type "enigmail" in the search box to install.

20161213:
  AFFECTS: users of devel/skalibs, lang/execline, sysutils/s6
  AUTHOR: Colin Booth <colin-ports@heliocat.net>

  skalibs has undergone a major version bump and compatibility is not
  guaranteed for software with a runtime dependency on
  libskarnet.so.2.3.9.0. This will not affect lang/execline or
  sysutils/s6 as those are statically linked against libskarnet.a.

  execline has undergone a major version bump and compatibility is not
  guaranteed for software with a runtime dependency on
  libexecline.so.2.1.4.5. This will not affect sysutils/s6 as all s6
  programs are statically linked against libexecline.a.

  s6 has undergone a major version bump and compatibility is not
  guaranteed for software with a runtime dependency on
  libs6.so.2.2.4.3. Additionally, s6-applyuidgid and s6-setuidgid
  have moved from $PREFIX/sbin to $PREFIX/bin. Any scripts calling
  those utilities that are not relying on $PATH resolution to find
  them will need to be rewritten.

20161207:
  AFFECTS: users of www/node
  AUTHOR: bradleythughes@fastmail.fm

  The www/node port has been updated to node.js v7.2.0, the latest
  upstream release. A new port, www/node6, has been created for the
  v6.x LTS branch. Users wanting to stay on v6.x can replace www/node
  with www/node6 with one of the following commands:

  # pkg set -o www/node:www/node6
    or
  # portmaster -o www/node6 www/node
    or
  # portupgrade -o www/node6 www/node

20161202:
  AFFECTS: Users of textproc/p5-Search-Elasticsearch
  AUTHOR: tj@FreeBSD.org

  As of the 5.01 release of ths package, the client libraries for older
  versions of Elasticsearch have started to be shipped seperately.  If you are
  using this library to access a none 5.X server you will need to install one of
  the textproc/p5-Search-Elasticsearch-Client-* ports.

