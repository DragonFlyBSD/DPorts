This file documents some of the problems you may encounter when upgrading
your ports.  We try our best to minimize these disruptions, but sometimes
they are unavoidable.

You should get into the habit of checking this file for changes each time
you update your ports collection, before attempting any port upgrades.

20160415:
  AFFECTS: users of audio/chromaprint
  AUTHOR: jhale@FreeBSD.org

  chromaprint has been updated to version 1.3.1 and includes a shared
  library bump. PORTREVISIONS have been bumped on affected ports.
  If you are using binary pkg, 'pkg upgrade' will do the right thing.
  Users of portmaster/portupgrade must rebuild all ports which depend
  on chromaprint.

  Portmaster users:
      portmaster -w -r chromaprint
  Portupgrade users:
      portupgrade -fr audio/chromaprint

20160414:
  AFFECTS: Users of www/tt-rss
  AUTHOR: thierry@FreeBSD.org

  Tiny Tiny RSS can use a database running on a separate server.
  Previously, in this case, you had to set the option DBLOCAL; this option
  has been removed and replaced by a settable run-time flag: now you
  should set
  ttrssd_local_db="NO"
  in your /etc/rc.conf .


20160414:
  AFFECTS: Users of graphics/kipi-plugin-googledrive and graphics/kipi-plugin-picasaweb
  AUTHOR: kde@FreeBSD.org

  DigiKam and its related ports have been updated to 4.14.0, the latest
  stable upstream release.

  The graphics/kipi-plugin-googledrive and graphics/kipi-plugin-picasaweb
  have both been merged into the new graphics/kipi-plugin-googleservices
  following a move done upstream.

  Those two ports must be removed, and graphics/kipi-plugin-googleservices
  should be used instead.

20160413:
  AFFECTS: All users of www/node-devel
  AUTHOR: bradleythughes@fastmail.fm

  www/node-devel was outdated and has been removed. Upstream no longer
  releases a development version. You can use the www/node port to get
  node.js 5.x by running one of the following commands:

  # pkg install node
    or
  # portmaster -o www/node www/node-devel
    or
  # portupgrade -o www/node www/node-devel

20160412:
  AFFECTS: Users of net/samba42 and net/samba/43
  AUTHOR: timur@FreeBSD.org

  Samba 4.2.x and 4.3.x ports have been updated to address
  BadLock(http://badlock.org) vulnerability, as well as few other
  discovered.

  Please note that Samba 4.1.x and older versions are also affected by 
  the issues fixed with this release but are not supported anymore. It is
  strongly recommend to upgrade to a recent version at your earliest 
  convenience.

  The security updates include new smb.conf options and a number of
  stricter behaviours to prevent Man in the Middle attacks. Between these
  changes, compatibility with a large number of older software versions
  has been lost in the default configuration.

  For more information about the related behaviour changes and the
  security issues please visit:

     https://www.samba.org/samba/latest_news.html#4.4.2
     https://www.samba.org/samba/history/samba-4.3.8.html
     https://www.samba.org/samba/history/samba-4.2.11.html

20160411:
  AFFECTS: Users if databases/influxdb
  AUTHOR: cheffo@freebsd-bg.org

  To upgrade to InfluxDB 0.12, you must be on version 0.10 and all shards must
  be in TSM format (the default storage engine starting with InfluxDB 0.10).
  See the 0.10 documentation [1] for how to convert b1 and bz1 shards to TSM. If
  any b1 or bz1 shards are present, InfluxDB 0.12 will not start.

  Next, you need to update your metastore *before updating to 0.12.* [2]

  [1] https://docs.influxdata.com/influxdb/v0.10/administration/upgrading/#convert-b1-and-bz1-shards-to-tsm1
  [2] https://docs.influxdata.com/influxdb/v0.12/administration/upgrading/

20160406:
  AFFECTS: All users of www/pecl-http
  AUTHOR: bofh

  www/pecl-http has been updated to the latest 3.x stable release, which 
  supports php70+ and a new port www/pecl-http2 has been created for the
  2.x branch.

  Should users want to continue to use version 2.x, replace www/pecl-http with
  www/pecl-http2 as follows:

  Using packages:

    # pkg delete pecl-http
    # pkg install pecl-http2

  Using ports:

    # portupgrade -o www/pecl-http2 www/pecl-http

  OR

    # portmaster -o www/pecl-http2 www/pecl-http

20160404:
  AFFECTS: users of lang/ruby21
  AUTHOR: swills@FreeBSD.org

  The default ruby version has been updated from 2.1 to 2.2.

  If you compile your own ports you may keep 2.1 as the default version by
  adding the following lines to your /etc/make.conf file:

  #
  # Keep ruby 2.1 as default version
  #
  DEFAULT_VERSIONS+=ruby=2.1

  If you wish to update to the new default version, you need to first stop any
  software that uses ruby. Then, you will need to follow these steps, depending
  upon how you manage your system.

  If you use pkgng, simply upgrade:
  # pkg upgrade

  If you use portmaster, install new ruby, then rebuild all ports that depend
  on ruby:
  # portmaster -o lang/ruby22 lang/ruby21
  # portmaster -R -r ruby-2.2

  If you use portupgrade, install new ruby, then rebuild all ports that depend
  on ruby:

  # pkg delete -f ruby portupgrade
  # make -C /usr/ports/ports-mgmt/portupgrade install clean
  # pkg set -o lang/ruby21:lang/ruby22
  # portupgrade -x ruby-2.2.\* -fr lang/ruby22

20160404:
  AFFECTS: mail/spamassassin
  AUTHOR: adamw@FreeBSD.org

  Support for SSLv3 has been removed from SpamAssassin, because
  SSLv3 is a Bad Idea. No direct option is provided to re-enable it.
  If your setup requires use of SSLv3, some instructions are available
  in FreeBSD PR 208225.

20160331:
  AFFECTS: security/clamav-unofficial-sigs
  AUTHOR: lukasz@wasikowski.net, sf@maxempire.com

  This version of clamav-unofficial-sigs is eXtremeSHOK's fork.
  Configuration file location has changed from
  %PREFIX%/clamav-unofficial-sigs.conf to
  %PREFIX%/clamav-unofficial-sigs/

  master.conf and os.conf hold default values, local changes should
  be placed in user.conf.

20160324:
  AFFECTS: print/ghostscript9-base
  AUTHOR: tijl@FreeBSD.org

  The default Ghostscript port has changed from print/ghostscript9-base,
  which is no longer developed, to print/ghostscript9-agpl-base.  Package
  users will upgrade automatically.  Ports users can stick with the old
  port by adding "DEFAULT_VERSIONS+=ghostscript=9" to /etc/make.conf, or
  move to the new port with:

      portmaster -o print/ghostscript9-agpl-base ghostscript9-base
  or: portupgrade -o print/ghostscript9-agpl-base print/ghostscript9-base

  And if you have ghostscript9-x11 installed:

      portmaster -o print/ghostscript9-agpl-x11 ghostscript9-x11
  or: portupgrade -o print/ghostscript9-agpl-x11 print/ghostscript9-x11

  Note that print/ghostscript9-agpl-base is licensed under the AGPLv3
  while print/ghostscript9-base is licensed under the GPLv3.

20160317:
  AFFECTS: security/openvas-client
  AUTHOR: tijl@FreeBSD.org

  The OpenVAS ports have been updated from version 2 to version 8.  All
  components have been renamed and rearranged.  The old OpenVAS client
  no longer exists.  Instead there is a web interface provided by
  security/greenbone-security-assistant or a command-line interface
  provided by security/openvas-cli.

20160311:
  AFFECTS: print/hplip
  AUTHOR: tijl@FreeBSD.org

  HPLIP has been updated to verion 3.16.2.  As part of the update support
  for the hpijs/foomatic-rip filter has been dropped.  This has long been
  unsupported upstream.  If you used this filter with your printer you'll
  have to remove the printer with HP Device Manager and then add it back as
  a new device.

20160311:
  AFFECTS: print/cups-base, print/cups-client, print/cups-image
  AUTHOR: tijl@FreeBSD.org

  The cups-base, cups-client and cups-image packages have been combined
  into one cups package.

  If you build your own ports the easiest way to update is to delete these
  packages first and then build and install print/cups.

  If you are using binary packages, depending on the packages installed on
  your system, pkg(8)'s solver might get confused. In this case do not proceed
  with the upgrade but delete first the packages:

  pkg delete -fg "cups*"

  Then usual upgrade process: pkg upgrade

  The device URI of USB printers has changed so you have to adjust the
  printer configuration.  Go to http://localhost:631/printers/.  Click on
  your printer and select "Modify Printer" in the Administration drop-down.
  You should then be able to select the new URI of the printer.  The web
  interface requires cookies and JavaScript to function properly so make
  sure your browser does not block them.

  The package also installs a devd(8) configuration file now that gives
  cups access to USB printers.  Unless you have any special needs you can
  remove any devd(8), devfs.conf(5) or devfs.rules(5) configuration related
  to cups that you may have added in the past.

20160306:
  AFFECTS: net-mgmt/yaf
  AUTHOR: pi@FreeBSD.org

  YAF is updated to version 2.8.1 with many new OPTIONS. Please use
  the default options to get same behavior as previous version.

20160302:
  AFFECTS: audio/alsa-utils, www/firefox, www/firefox-esr, www/seamonkey
  AUTHOR: jbeich@FreeBSD.org

  ALSA backend in libcubeb as used by Firefox has an unresolved issue
  with the OSS patch in audio/alsa-plugins. To avoid excessive CPU
  usage when playing HTML5 videos rebuild the port with BUFSZ_P2
  option enabled or reset options to default.

  However, with BUFSZ_P2 enabled alsa-utils may crash:

    $ aplay test.wav
    Playing WAVE 'test.wav' : Signed 16 bit Little Endian, Rate 48000 Hz, Stereo
    Assertion failed: (err >= 0), function set_params, file aplay.c, line 1289.
    Aborted by signal Abort trap...

20160229:
  AFFECTS: users of security/openssh-portable-devel
  AUTHOR: bdrewery@FreeBSD.org

  openssh-portable-devel has been removed since it is stale, insecure and
  not worth maintaining any longer.

  Users should switch back to openssh-portable.

  Using packages:

    # pkg delete openssh-portable-devel
    # pkg install openssh-portable

  Using ports:

    # portmaster -o security/openssh-portable openssh-portable-devel

  OR

    # portupgrade -o security/openssh-portable security/openssh-portable-devel

20160228:
  AFFECTS: users of mail/postfix
  AUTHOR: ohauer@FreeBSD.org

   Postfix has been updated to version 3.1, VDA and native SPF is no
   longer supported.

   - if VDA support is needed, users should stay on mail/postfix211
   - SPF support can be added to postfix via one of the mail/*spf* ports

   The Dovecot SASL OPTION was removed, Dovecot SASL support is always given
   from now on.  In addition, for each mail/postfix* port there is now a
   mail/postfix*-sasl slave port providing Cyrus SASL as default.

   To stay on postfix-2.11.x run the command:

   # pkg set -o mail/postfix:mail/postfix211

20160217:
  AFFECTS: users of www/nginx-devel
  AUTHOR: osa@FreeBSD.org

  Dynamic modules support has been enabled for the following third-party
  modules, in case of usage of these modules please update nginx
  configuration file for load these modules:

  load_module "modules/ngx_dynamic_upstream_module.so";
  load_module "modules/ngx_http_small_light_module.so";

20160214:
  AFFECTS: users of www/nginx-devel
  AUTHOR: osa@FreeBSD.org

  Dynamic modules support has been enabled for the following third-party
  modules, in case of usage of these modules please update nginx
  configuration file for load these modules:

  load_module "modules/ngx_http_echo_module.so";
  load_module "modules/ngx_http_headers_more_filter_module.so";
  load_module "modules/ngx_http_eval_module.so";
  load_module "modules/ngx_http_lua_module.so";
  load_module "modules/ngx_http_set_misc_module.so";

20160213:
  AFFECTS: users of www/nginx-devel
  AUTHOR: osa@FreeBSD.org

  Dynamic modules support has been enabled.  In case of usage following
  modules please update nginx configuration file for load these modules:

  load_module "modules/ngx_http_geoip_module.so";
  load_module "modules/ngx_http_image_filter_module.so";
  load_module "modules/ngx_http_xslt_filter_module.so";
  load_module "modules/ngx_mail_module.so";
  load_module "modules/ngx_stream_module.so";

  See https://www.nginx.com/blog/dynamic-modules-nginx-1-9-11/ for details.

20160127:
  AFFECTS: users of net-im/uTox
  AUTHOR: amdmi3@FreeBSD.org

  Before upgrading uTox port, please set maximum font scale in the
  program options.

20160119:
  AFFECTS: users of security/tor, security/tor-devel
  AUTHOR: amdmi3@FreeBSD.org

  The tor ports now create /var/log/tor subdirectory for tor logs. If
  you've used /var/log/tor as a log _file_, you'll need to update your
  torrc and move the file before updating the port.

20160118:
  AFFECTS: users of mail/rspamd and mail/rmilter
  AUTHOR: vsevolod@FreeBSD.org

  Rspamd has been updated to the version 1.1.0. If you have used per user
  statistics, then please consult changelog for details: your configuration
  should be changed.

  Rmilter has been updated to the version 1.7.0. Support of SPF and Spamassassin
  has been dropped from this project completely. You might also consider
  migration from memcahched to redis in this version.

20160113:
  AFFECTS: users of sysutils/ansible
  AUTHOR: lifanov@mail.lifanov.com

  Ansible 2.0.0 introduces a number of incompatible configuration changes.
  Please read changelog and migrate current configuration:

  https://raw.githubusercontent.com/ansible/ansible/v2.0.0.0-1/CHANGELOG.md

  Ansible 1.9.* will be provided as sysutils/ansible1 until the next update
  of 2.0 branch.

20160111:
  AFFECTS: users of security/easy-rsa
  AUTHOR: mandree@FreeBSD.org

  The port has been upgraded to version 3. This incurs major changes,
  please see ${PREFIX}/share/doc/easy-rsa/doc/EasyRSA-Upgrade-Notes.md
  for details.

  The old version 2.2.2 has been retained as security/easy-rsa2.

20151227:
  AFFECTS: users of games/nethack34
  AUTHOR: glewis@FreeBSD.org

  The port name and installation location of games/nethack34 have changed
  to allow for a port of NetHack 3.6.0.  To preserve your save and bones
  files do the following after updating:

    # sudo cp -p ${LOCALBASE}/share/nethack/save/* ${LOCALBASE}/share/nethack34/save/
    # sudo cp -p ${LOCALBASE}/share/nethack/bon* ${LOCALBASE}/share/nethack34/

  After verifying the files were copied correctly, remove the playground
  directory (as these files are incompatible with NetHack 3.6.0).

    # sudo rm -r ${LOCALBASE}/share/nethack

20151219:
  AFFECTS: users of net/samba4, net/samba41
  AUTHOR: timur@FreeBSD.org

  Given version of Samba were marked as deprecated. Please, consider to upgrade.

  Samba4 was giving wrong builds with recent version of p5-Parse-Pidl. It was
  converted to use bundled version instead and to conflict with the given package.
  If you still intend to build net/samba4 - remove p5-Parse-Pidle first.

20151217:
  AFFECTS: users of security/tor, security/tor-devel
  AUTHOR: amdmi3

  Tor rc.d script no longer overrides or forces logfile configuration,
  you now need to setup logging by hand. To preserve old behavior, add
  the following line to /usr/local/etc/tor/torrc:

    Log notice file /var/log/tor

20151215:
  AFFECTS: All users of www/node
  AUTHOR: koobs

  www/node has been updated to the latest 5.x stable release, and a new port
  www/node4 has been created for the 4.x LTS branch.

  Should users want to continue to use version 4.x, replace www/node with
  www/node4 as follows:

  Using packages:

    # pkg delete node
    # pkg install node4

  Using ports:

    # portupgrade -o www/node4 www/node

  OR

    # portmaster -o www/node4 node

20151210:
  AFFECTS: users of comms/gammu
  AUTHOR: vanilla@FreeBSD.org

  The python binding of comms/gammu were split from the main port. To get them you
  need to install comms/py-gammu.

20151206:
  AFFECTS: users of mail/postfixadmin
  AUTHOR: riggs@FreeBSD.org

  Caveat when updating to version 2.93: If you have an existing
  configuration and are NOT using the recommended practice of putting your
  settings changes in config.local.php:

  Copy config.inc.php to config.local.php prior to upgrading, then revise
  config.local.php for the current version afterward.

  Postfixadmin will not function correctly unless correct and complete
  data structures are placed in config.inc.php. Therefore the file must be
  upgraded as part of the package and any changes to config.inc.php will
  be overwritten.

  Detailed information regarding this procedure is provided in step 3 of
  the installation instructions in ${DATADIR}/INSTALL.TXT (by default
  /usr/local/share/postfixadmin/INSTALL.TXT).

20151205:
  AFFECTS: users of devel/ncurses
  AUTHOR: bapt@FreeBSD.org

  ncurses has been updated to 6.0.
  If you are using binary pkg, 'pkg upgrade' will do the right thing.
  Users of portmaster/portupgrade must rebuild all ports which depend
  on ncurses.

  Portmaster users:
      portmaster -w -r ncurses
  Portupgrade users:
      portupgrade -fr devel/ncurses

20151203:
  AFFECTS: users of x11-toolkits/qt4-gui or x11-toolkits/qt5-gui
  AUTHOR: kde@FreeBSD.org

  Back in mid-2012, pkg-message was added to the port suggesting changes to the
  default shared memory limits in loader.conf(5). Since then, the default
  limits have been changed and the values suggested by the port are no longer
  sensible. If you have changed the following values in loader.conf(5) due to
  qt4-gui's or qt5-gui's pkg-message, please considering removing them and
  using the default settings:
  * kern.ipc.shmall
  * kern.ipc.shmmni
  * kern.ipc.shmseg
  See base r209037 and ports PR 202927 for more context.

20151203:
  AFFECTS: users of sysutils/logstash
  AUTHOR: junovitch@FreeBSD.org

  Logstash has been updated to the 2.1.0 release. The embedded ElasticSearch
  instance is no longer supported. If in use, end users must update
  logstash.conf to point to the URL of an ElasticSearch instance.

20151130:
  AFFECTS: users of net/samba43
  AUTHOR: timur@FreeBSD.org

  A new version of Samba server that has better integration with Windows 10.
  This is still experimental and there were reports that rolling upgrade from
  previous version of Samba fails to work.

  Please, backup all relevant files from /var/db/samba4/ directory, as well
  as configuration files.

  Follow https://wiki.samba.org/index.php/Updating_Samba for the upgrade path.

20151130:
  AFFECTS: users of net/samba4, net/samba41, net/samba42
  AUTHOR: timur@FreeBSD.org

  Recent versions of devel/talloc, devel/tevent, database/tdb, database/ldb
  contained infinit recursive call to the strtol* set of replacement functions,
  which lead to coredumps. Unofficial patch was added meanwhile, but now
  official version of the fixed libs were released. If your version of
  net/samba4 works fine you don't need to recompile it. Other ports were also
  upgraded and some bugs were fixed in upstream.

20151122:
  AFFECTS: users of audio/audacity
  AUTHOR: riggs@FreeBSD.org

  Audacity has been upgraded to version 2.1.1. Changes in its settings
  processing may prevent it from starting. If this happens, removing its
  user-specific configuration directory ~/.audacity-data resolves this.

20151118:
  AFFECTS: users of mail/rmilter
  AUTHOR: vsevolod@FreeBSD.org

  Rmilter now has switched from user postfix to user _rmilter for security
  and sanity purposes. You might want to fix the ownership of
  /var/run/rmilter to user _rmilter and group mail.

20151105:
  AFFECTS: users of deskutils/egroupware
  AUTHOR: danilo@FreeBSD.org

  EGroupware 1.8 was deprecated and removed from sourceforge.net.
  To upgrade to the new version (14.3), make a backup of all files and
  database, remove all files from ${PREFIX}/www/eg:

    # pkg remove egroupware
    # rm -rf ${PREFIX}/www/eg

  Install the new egroupware:
    # pkg install egroupware
   or
    # make -C /usr/ports/deskutils/egroupware install clean

  Access the setup page on your browser and run the upgrade process
  (eg: http://<server>/eg/setup).

20151101:
  AFFECTS: users of www/codeigniter
  AUTHOR: junovitch@FreeBSD.org

  CodeIgniter has been updated to the 3.0.x release branch. End users
  must ensure their web applications are compliant with the guidance
  in the "Upgrading From a Previous Version" document.

  http://www.codeigniter.com/user_guide/installation/upgrade_300.html

  CodeIgniter 2.2.x has reached EOL as of 31 October 2015 but may be
  installed in the interim from the www/codeigniter22 port.

20151020:
  AFFECTS: users of security/keepassx2

  Due to a package name change, first remove the existing package
  and then reinstall it:

  # pkg delete security/keepassx2
  # portmaster security/keepassx2

20151019:
  AFFECTS: users of www/varnish4
  AUTHOR: feld@FreeBSD.org

  Varnish has been updated to 4.1.0. As part of the update an effort has
  been made to increase the security of the varnish daemons by utilizing
  separate UIDs. Users who upgrade will likely run into a permissions
  issue as a result. The simplest solution is to delete files varnish
  will recreate with the correct permissions and to adjust permissions
  of existing log files.

  The following changes will allow you to start varnishd, varnishlog,
  and varnishncsa successfully:

  # rm -r /usr/local/varnish/$(hostname)
  # rm /var/run/varnishlog.pid
  # rm /var/run/varnishncsa.pid
  # chown varnishlog /var/log/varnish.log
  # chown varnishlog /var/log/varnishncsa.log

  Please also note that the syntax for binding to additional IPs has
  changed in 4.1.0. Multiple listening addresses are now specified by
  using multiple -a arguments. In rc.conf it would look like this:

  varnishd_listen="x.x.x.x:80 -a y.y.y.y:80"

20151015:
  AFFECTS: users of devel/subversion, its bindings and www/mod_dav_svn
  AUTHOR: lev@FreeBSD.org

  The subversion upgdate to 1.9 branch introduces new "old" subversion
  port devel/subversion18.

  If you don't want to update your subversion installation, run

        pkg set -n subversion:subversion18

  and add

        WITH_SUBVERSION_VER=18

  to your /etc/make.conf

20151013:
  AFFECTS: users of security/sshguard-ipfw
  AUTHOR: feld@FreeBSD.org

  The sshguard update to 1.6.2 introduces a rewritten IPFW backend. The
  previous approach was to insert individual block rules with a
  predefined  numbered range. This does not scale well and is not
  flexible so the design was scrapped. The new approach utilizes IPFW
  tables. The sshguard IPFW backend now inserts offenders into hardcoded
  table 22.

  To continue blocking the attackers effectively you will need to add a
  block rule like the following:

  ipfw add deny all from 'table(22)' to any

  The release announcement can be found here:
    http://sourceforge.net/p/sshguard/mailman/message/34534861/

20151011:
  AFFECTS: users of emulators/qemu-sbruno, emulators/qemu-user-static
  AUTHOR: sbruno@FreeBSD.org

  The Jemalloc update at svn r286871 introduced some TLS enhancements
  for MIPS targets that require a bit of workaround.  Users who want
  to build MIPS packages should update their host systems past r286871
  prior to upgrading their qemu-user-static/qemu-sbruno ports.

  Discussion about this can be found here:
    https://lists.freebsd.org/pipermail/freebsd-mips/2015-October/004018.html

20151006:
  AFFECTS: users of www/firefox, www/seamonkey
  AUTHOR: gecko@FreeBSD.org

  Firefox since 41.0 and SeaMonkey since 2.38 require databases/sqlite3
  port built with DBSTAT option enabled (default). Re-run "make config"
  if the port(s) fail to build as described in ports/200853.

20150921:
  AFFECTS: users of mail/rspamd
  AUTHOR: vsevolod@FreeBSD.org

  rspamd has been updated to the version 1.0.
  For migration from the previous releases, please read the following document:
  https://rspamd.com/doc/migration.html

20150919:
  AFFECTS: users of multimedia/ffmpeg
  AUTHOR: riggs@FreeBSD.org

  ffmpeg has been updated to the version 2.8.
  If you are using binary pkg, 'pkg upgrade' will do the right thing.
  Users of portmaster/portupgrade must rebuild all ports which depend
  on ffmpeg.

  Portmaster users:
      portmaster -w -r ffmpeg
  Portupgrade users:
      portupgrade -fr multimedia/ffmpeg

20150916:
  AFFECTS: users of graphics/jpeg
  AUTHOR: antoine@FreeBSD.org

  Default implementation of jpeg has been switched from graphics/jpeg to
  graphics/jpeg-turbo.  To perform the upgrade, use instructions below.

  If using binary packages: 'pkg upgrade' will do the right thing.  If it
  doesn't and complains about 'Cannot solve problem using SAT solver', run
  'pkg delete -f jpeg' before 'pkg upgrade'.

  If using portmaster:
  # portmaster -o graphics/jpeg-turbo jpeg

  If using portupgrade:
  # portupgrade -f -o graphics/jpeg-turbo graphics/jpeg

  If you compile your ports and want to keep using IJG's jpeg implementation,
  add this line to your /etc/make.conf file:
  JPEG_PORT=graphics/jpeg

20150914:
  AFFECTS: users of lang/perl5*
  AUTHOR: mat@FreeBSD.org

  Binary package users can ignore this.

  The way lang/perl5* ports install themselves has changed.  From now on, only
  the default Perl port (currently 5.20), or the version listed in
  DEFAULT_VERSIONS, will install /usr/local/bin/perl.

  If you are NOT using the default version of Perl (as of right now, it is
  5.20) you MUST add a line setting the version you are using to your
  /etc/make.conf, to preserve /usr/local/bin/perl:

  DEFAULT_VERSIONS+=	perl5=5.xx

  If your Perl package name is not called perl5-5.xx.y but perl5.xx-5.xx.y,
  you will need to rename it so that portupgrade and portmaster do not get
  confused:

    pkg set -n perl5.xx:perl5

  After this date, to migrate from one Perl version to the other, you must
  first put the DEFAULT_VERSIONS line in your make.conf, and then, for example,
  if you want to move from 5.20 to 5.22, do:

	pkg set -o lang/perl5.20:lang/perl5.22
	portmaster `pkg shlib -qR libperl.so.5.20`

  If you do not do that, you will replace your default Perl 5.20 installation
  (one that has /usr/local/bin/perl) with an installation that does not have
  /usr/local/bin/perl, and it will break everything.

20150908:
  AFFECTS: users of print/texlive-base
  AUTHOR: hrs@FreeBSD.org

  pdfclose and pdfopen utilities in print/texlive-base are now in a separate
  port print/xpdfopen.  While upgrading print/texlive-base, a conflict may
  occur between pdfclose utility installed by an old print/texlive-base and
  one being installed by print/xpdfopen.  If it occurred on your system,
  remove the installed print/texlive-base first by using the following
  command:

   # pkg delete -f texlive-base

20150901:
  AFFECTS: users of editors/libreoffice
  AUTHOR: jkim@FreeBSD.org

  editors/libreoffice has been updated to 5.0.1.  However, FreeBSD 9.x is
  no longer supported because it requires C++11-capable library installed
  in the base.  If you cannot upgrade your system or still want 4.3.x for
  some reason, use editors/libreoffice4.

20150822:
  AFFECTS: users of print/ghostscript*
  AUTHOR: hrs@FreeBSD.org

  print/ghostscript{7,8,9,9-agpl} have been split into
  print/ghostscript{7,8,9,9-agpl}-{base,x11}.
  print/ghostscript*-nox11 ports have been removed.

  The -base installs Ghostscript binaries, libgs, and other data files
  and it depends on no X11 library.  The -x11 installs a small shared
  library to enable x11* devices in the installed -base package.

  In most cases, Ghostscript is installed as a dependency.  A port/package
  which requires Ghostscript will automatically pick up -base, and
  when x11* devices required it will pick up -x11 in addition.

  If one wants to install Ghostscript manually and full compatibility
  with the previous versions, just install -x11 because it installs
  -base as a dependency.  Combination of the two provides the same
  functionality as before.

20150821:
  AFFECTS: users of security/openssh-portable
  AUTHOR: bdrewery@FreeBSD.org

  OpenSSH 7.0 disables support for:
    * SSH protocol 1
    * 1024-bit diffie-hellman-group1-sha1 key exchange
    * ssh-dss, ssh-dss-cert-* host and user keys
    * legacy v00 cert format

  See http://www.openssh.com/txt/release-7.0 for more information and
  http://www.openssh.com/legacy.html for how to re-enable some of these
  algorithms.

20150820:
  AFFECTS: users of lang/ghc and */hs-*
  AUTHOR: haskell@FreeBSD.org

  The Glorious Glasgow Haskell Compiler has been updated to version
  7.10.2 and Haskell Platform has been removed.  As a result, it is
  recommended to rebuild or reinstall all the dependent ports and the
  lang/ghc port itself in one of the following ways:

  # portmaster -w -r ghc
    or
  # portupgrade -fr lang/ghc

  In case of pkg(8), it is probably safer to remove all the GHC-dependent
  packages along with GHC and reinstall everything from scratch.  For
  example:

  # pkg query "%ro" ghc > ghc-pkgs.txt
  # pkg delete -y lang/ghc

  In ghc-pkgs.txt, check and remove all the packages that have been moved,
  then:

  # pkg install -y `cat ghc-pkgs.txt`

20150818:
  AFFECTS: users of sysutils/s6
  AUTHOR: Colin Booth <colin@heliocat.net>

  s6-notifywhenup has been removed as of v2.2.0.0. Any run scripts
  using readyness notification must be updated to use a notification
  fd instead.

  s6-svc options have changed for sending syncronous up/down timeouts.
  Any management or wrapper scripts using those options will need to
  be updated.

20150817:
  AFFECTS: everybody who still uses <UNIQUENAME>_SET/UNSET in make.conf
  AUTHOR: mat@FreeBSD.org

  The use of <UNIQUENAME>_SET/UNSET has been deprecated for a long time,
  replaced by <OPTIONS_NAME>_SET/UNSET.  It is now not supported any more.
  A warning will be issued telling you what to do, for example:

    $ make
    /!\ WARNING /!\
    You are using perl_SET which is not supported any more, use:
    lang_perl5.20_SET= DEBUG

20150816:
  AFFECTS: users of sysutils/s6
  AUTHOR: Colin Booth <colin@heliocat.net>

  s6-notifywhenup is deprecated and will be removed in the next version
  of s6. Any run scripts depending on that program should be updated to
  use an in-servicedir notification-fd file as described under
  "Readyness notification support" in s6-supervise.html.

20150812:
  AFFECTS: users of net-mgmt/icinga and net-mgmt/icinga2
  AUTHOR: lme@FreeBSD.org

  The Icinga port has been split into two ports: net-mgmt/icinga-core
  which contains the Icinga 1.x backend and net-mgmt/icinga-classicweb
  which contains the Icinga classic web (CGI) interface. The latter can
  be both used with Icinga 1.x and the Icinga 2 port (net-mgmt/icinga2).
  A new meta-port net-mgmt/icinga was added which depends on both new
  ports, so updating the Icinga port should be transparent.

20150812:
  AFFECTS: users of sysutils/moosefs-master and other moosefs packages
  AUTHOR: feld@FreeBSD.org

  MooseFS ports have been updated to 2.0.72-1. Upstream has been
  providing a private package repository to distribute newer releases of
  MooseFS. These changes have now made it into the ports tree. This has
  resulted in splitting up the sysutils/moosefs-master port into several
  new ports:

  sysutils/moosefs-cli
  sysutils/moosefs-cgi
  sysutils/moosefs-cgiserv
  sysutils/moosefs-metalogger
  sysutils/moosefs-netdump

  You may need to install these additional ports/packages to restore the
  complete functionality of your MooseFS cluster. Please review the
  upstream documentation.

  http://moosefs.com/documentation/moosefs-2-0.html

20150809:
  AFFECTS: users of sysutils/xfce4-power-manager
  AUTHOR: olivierd@FreeBSD.org

  After upgrading to 1.5.2, by default a label is displayed next to the
  panel icon (it shows percentage and remaining time).

  To hide this label, a new property /xfce4-power-manager/show-panel-label
  must be created:

  xfconf-query -c xfce4-power-manager \
      -p /xfce4-power-manager/show-panel-label -n -t int -s 0

  Possible values are:
  - 0 -> does not display label
  - 1 -> displays only percentage
  - 2 -> displays only remaining time
  - 3 -> displays only percentage and remaining time (default value)

20150806:
  AFFECTS: users of security/libressl
  AUTHOR: brnrd@FreeBSD.org

  After upgrading to 2.2.2, manually update all packages that depend on
  any of the libraries provided by LibreSSL (libssl, libcrypto and
  libtls) since the versions of these libraries have changed. Normally,
  you can obtain the list of dependent software by running the following
  command:

  # pkg info -r libressl

  Then you should rebuild all ports depending on libressl to avoid dangling
  shared library dependencies. Poudriere and pkg handle this correctly,
  portmaster and portupgrade users can use the following to rebuild all
  dependent ports.

  Portmaster users:
      portmaster -r libressl
  Portupgrade users:
      portupgrade -fr security/libressl

20150805:
  AFFECTS: users of sysutils/tracker
  AUTHOR: kwm@FreeBSD.org

  The new tracker version does not build if the old version is installed.

  # pkg delete -f tracker

  After use your upgrade tool of choice.

20150802:
  AFFECTS: users of mail/opensmtpd
  AUTHOR: ashish@FreeBSD.org

  After upgrading, you will need to review all your configuration, as
  there are some configuration changes between 5.4.x and 5.7.1.

20150726:
  AFFECTS: users of ukrainian/monacofonts
  AUTHOR: mi@aldan.algebra.com

  The destination-directory used by monacofonts port was altered.
  The fonts-location changed from koi8u-monaco/ to koi8-u-monaco/

  Users are advised to modify the path set in their xorg.conf files.

20150720:
  AFFECTS: users of print/texlive-base and other TeXLive packages
  AUTHOR: hrs@FreeBSD.org

  TeXLive in Ports Collection has been updated to TL2015.  To upgrade
  installed old packages, upgrading of "tex-*" packages is required.

  If you have a problem with upgrading, please send it to
  freebsd-tex@FreeBSD.org and/or file a PR.

20150711:
  AFFECTS: users of graphics/gdal
  AUTHOR: sunpoet@FreeBSD.org

  Due to changes in header files, please deinstall gdal first while updating
  from 1.x to 2.0.

20150708:
  AFFECTS: users of security/libressl
  AUTHOR: brnrd@FreeBSD.org

  After upgrading to 2.2.1, manually update all packages that depend on
  any of the libraries provided by LibreSSL (libssl, libcrypto and
  libtls) since the versions of these libraries have changed. Normally,
  you can obtain the list of dependent software by running the following
  command:

  pkg query -e '%n = libressl' %ro

  Then you should rebuild all ports depending on libressl to avoid dangling
  shared library dependencies.

20150707:
  AFFECTS: users of net-mgmt/netmagis-*
  AUTHOR: pgollucci@FreeBSD.org

  Netmagis-* ports have been upgraded to 2.3.0. Upgrading from
  previous version require a database schema upgrade.
  See http://netmagis.org/upgrade.html

20150702:
  AFFECTS: users of multimedia/ffmpeg
  AUTHOR: riggs@FreeBSD.org

  ffmpeg has been updated to the latest version from the 2.7 branch.
  If you are using binary pkg, 'pkg upgrade' will do the right thing.
  Users of portmaster/portupgrade must rebuild all ports that depend
  on it.

  Portmaster users:
      portmaster -w -r ffmpeg
  Portupgrade users:
      portupgrade -fr multimedia/ffmpeg

20150702:
  AFFECTS: users of net/ptpd2-devel
  AUTHOR: skreuzer@FreeBSD.org

  net/ptpd2 has been upgraded to version 2.3.1
  net/ptpd2-devel is now deprecated and has been removed

  If using portupgrade:
  # portupgrade -o net/ptpd2 net/ptpd2-devel

  If using portmaster:
  # portmaster -o net/ptpd2 net/ptpd2-devel

20150628:
  AFFECTS: users of www/varnish, www/pecl-varnish,
  www/varnish-libvmod-header, www/varnish-nagios
  AUTHOR: feld@FreeBSD.org

  Varnish 3.x has reached End of Life status and has been removed from
  the ports tree. If you were using www/varnish we urge you to to update
  to www/varnish4. The upgrade guide can be found here:

  https://www.varnish-cache.org/docs/trunk/whats-new/upgrade-4.0.html

  www/varnish-libvmod-header and www/varnish-nagios have been updated to
  versions that work with Varnish 4.x. You should not lose access to
  this software.

  www/pecl-varnish was updated to the latest release which has added
  support for Varnish 4.x. Please note that it appears some
  functionality has been lost. This is unfortunate but out of our
  control. Details can be found here:

  http://pecl.php.net/package-changelog.php?package=varnish

  If for some reason you need www/varnish to exist in your ports tree
  for a bit longer you may consider instead following the 2015Q2 branch.
  Do note however that Varnish 3.x will not be receiving updates or
  security patches from upstream.

20150624:
  AFFECTS: users of devel/p5-Test-Tester and devel/p5-Test-use-ok
  AUTHOR: adamw@FreeBSD.org

  The Test::Tester and Test::use::ok modules have been rolled into
  devel/p5-Test-Simple, and are included in perl 5.22. The p5-Test-Tester
  and p5-Test-use-ok modules will be removed in one month.

  If you use either of those ports and have perl-5.22 installed:

      pkg delete p5-Test-Tester p5-Test-use-ok

  If you use either of those ports and have perl-5.20 or lower installed:

      portmaster -o devel/p5-Test-Simple p5-Test-Tester
      portmaster -o devel/p5-Test-Simple p5-Test-use-ok

20150615:
  AFFECTS: users of security/libressl
  AUTHOR: brnrd@FreeBSD.org

  After upgrading libressl, manually update all packages that depend on
  this library since its version has changed. Normally, you can obtain the
  list of dependent software by running the following command:

  pkg query -e '%n = libressl' %ro

  Then you should rebuild all ports depending on libressl to avoid dangling
  shared library dependencies.

20150614:
  AFFECTS: users of audio/libmusicbrainz5
  AUTHOR: jhale@FreeBSD.org

  libmusicbrainz5 has been updated to 5.1.0.  Please rebuild all ports that
  depend on it.  PORTREVISIONS have been bumped on dependent ports.

  If you use portmaster:
        portmaster -w -r libmusicbrainz5
  If you use portupgrade:
        portupgrade -fr audio/libmusicbrainz5

20150613:
  AFFECTS: users of multimedia/avidemux26-*
  AUTHOR: riggs@FreeBSD.org

  avidemux26 has been renamed to avidemux
  If you are using binary pkg, 'pkg upgrade' will do the right thing.
  Users of portmaster/portupgrade have to take a manual step:
  Portmaster users:
      portmaster -o multimedia/avidemux multimedia/avidemux26
  Portupgrade users:
      portupgrade -o multimedia/avidemux multimedia/avidemux26

20150610:
  AFFECTS: users of databases/postgresql84-server
  AUTHOR: girgen@FreeBSD.org

  PostgreSQL-8.4 EOL was reached in July 2014. To upgrade to a later version of
  choice, you need to do a dump+restore of the database.
  Please follow the instructions at:

     http://www.postgresql.org/docs/8.4/static/install-upgrading.html

20150527:
  AFFECTS: users of sysutils/xfce4-power-manager
  AUTHOR: olivierd@FreeBSD.org

  Before upgrading, you must stop xfce4-power-manager daemon:

    xfce4-power-manager --quit

20150519:
  AFFECTS: users of sysutils/webmin and sysutils/usermin
  AUTHOR: olgeni@FreeBSD.org

  After upgrading to Perl 5.20 the /usr/bin/perl link will no longer
  be available. You will have to check your perl-path files and
  change the path of the Perl interpreter to "/usr/local/bin/perl":

    /usr/local/etc/webmin/perl-path
    /usr/local/etc/usermin/perl-path

20150513:
  AFFECTS: users of lang/perl5*
  AUTHOR: mat@FreeBSD.org

  The default Perl version has been switched to Perl 5.20.  If you are using
  binary packages to upgrade your system, you do not have anything to do, pkg
  upgrade will do the right thing.  For the other people, assuming you are
  migrating from 5.18 to 5.20, do:

  Portupgrade users:
	portupgrade -o lang/perl5.20 -f lang/perl5.18

	portupgrade -f `pkg shlib -R libperl.so.5.18|tail +2`

  Portmaster users:
	portmaster -o lang/perl5.20 lang/perl5.18

	portmaster -f `pkg shlib -R libperl.so.5.18|tail +2`

  NOTE:
    Perl has been removed from base more than ten years ago, so it was way past
    time for the /usr/bin/perl symlink to be removed from the port.  If for
    some strange reason, you still need it, you will have to create it
    manually.

  IMPORTANT:
    In case you have not updated your system in a while, and specifically,
    followed the 20141126 instructions regarding the new Perl layout, you
    should follow those more extensive instructions rather than the
    conservative presented here.

20150510:
  AFFECTS: users of mail/postfix mail/postfix-current
  AUTHOR: ohauer@FreeBSD.org

  The following OPTIONS where renamed to match the default used in most all other ports
  - SASL2 -> SASL
  - OPENLDAP -> LDAP

  If any of the old OPTIONS was enabled before, please re-run "make config".

20150508:
  AFFECTS: users of www/iojs
  AUTHOR: linpct@gmail.com

  iojs has been updated to 2.0.0. The binary modules may need to be
  rebuilt due to V8 version ABI change.

20150506:
  AFFECTS: users of net/asterisk13 with PJSIP (default on) and SRTP (default off) options enabled
  AUTHOR: madpilot@FreeBSD.org

  This applies ONLY TO USERS COMPILING FROM PORTS:
  To avoid dependency problems, you must remove the pjsip port
  before upgrading asterisk13.

    # pkg delete pjsip
    # portmaster -a

  These steps are unnecessary for those using binary packages.

  Please see the 20150323 entry for background about this problem.

20150501:
  AFFECTS: users of graphics/qgis
  AUTHOR: brd@FreeBSD.org

  Following OPTIONS have been renamed in 2.8.1_1 to match upstream:

  - MAPSERVER to SERVER

20150427:
  AFFECTS: users of mail/opensmtpd
  AUTHOR: ashish@FreeBSD.org

  Following OPTIONS are being removed in 5.4.5p1:

  - LDAP
  - SQLITE
  - MYSQL
  - PGSQL
  - REDIS

  They are disabled/removed in upstream since 5.4.4p1, but did not get removed
  from port.

20150420:
  AFFECTS: users of devel/icu
  AUTHOR: bapt@FreeBSD.org

  icu has been updated to 55.1. Please rebuild all ports that depends on it

  If you use portmaster:
        portmaster -w -r icu
  If you use portupgrade:
        portupgrade -fr devel/icu

20150419
  AFFECTS: Users of emulators/wine-devel
  AUTHOR: gerald@FreeBSD.org

  The COMPHOLIO option in emulators/wine-devel has been renamed to
  STAGING to align with the upstream evolution of that project.

20150417:
  AFFECTS: Users of audio/bcg729
  AUTHOR: tijl@FreeBSD.org

  The Mediastreamer plugin included in this package has been separated into
  a new port audio/msbcg729.

